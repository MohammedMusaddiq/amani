{% extends "base.html" %}
{% block title %}
    {{ title }}
{% endblock title %}
{% block css %}
    <style>
        .content-center {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .content-center-partial {
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }
    </style>
{% endblock css %}
{% block navbar %}
    {% include "components/navbar.html" %}
{% endblock navbar %}
{% block content %}
    <div class="container">
        <div class="row p-4 content-center-partial">
            <div class="card shadow-custom">
                <div class="card-body">
                    <h5 class="text-center text-uppercase">Students List</h5>
                    <a href="{% url 'cadmin:create_student_account' %}"
                       class="ms-2">Add Student
                        Account</a>
                    <hr>
                    <div class="my-1">{% include "components/alert.html" %}</div>
                    <div class="row">
                        <div class="my-2">
                            <input type="text" class="form-control" placeholder="Search" id="search_student">
                        </div>
                        <div class="col-lg-12">
                            <div class="table-responsive">
                                <table class="table table-striped table-hover" id="studentTable">
                                    <thead>
                                    <tr>
                                        <th scope="col">#</th>
                                        <th scope="col">Name</th>
                                        <th scope="col">Branch</th>
                                        <th scope="col">Semester</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for student in students %}
                                        <tr>
                                            <th scope="row">{{ forloop.counter }}</th>
                                            <td>{{ student.user }}</td>
                                            <td>{{ student.branch }}</td>
                                            <td>{{ student.semester }}</td>
                                        </tr>
                                    {% empty %}
                                        <tr>
                                            <td colspan="5" class="text-center">No Students Found</td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}
{% block footer %}
    {% include "components/footer.html" %}
{% endblock footer %}
{% block js %}
    <script>
        $(document).ready(function () {
            $("#search_student").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                $("#studentTable tr").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });
    </script>
{% endblock %}